# Instruções do Projeto Eixo 05

# Criar a imagem Docker

docker build -t puc-terraform-image:p5 .

# Criar o container Docker

docker run -dit --name puc-p5 -v ./IaC:/iac puc-terraform-image:p5 /bin/bash


# Configurar a autenticação:

databricks configure --token

# Config databricks

# Pegue as chaves já salvas pelo aws configure e crie os secrets direto:

export AWS_ACCESS_KEY_ID="$(aws configure get aws_access_key_id)"

export AWS_SECRET_ACCESS_KEY="$(aws configure get aws_secret_access_key)"

databricks secrets create-scope --scope aws

databricks secrets put --scope aws --key aws_access_key_id --string-value "$AWS_ACCESS_KEY_ID"

databricks secrets put --scope aws --key aws_secret_access_key --string-value "$AWS_SECRET_ACCESS_KEY"

# Verifique:
databricks secrets list-scopes
databricks secrets list --scope aws


# Apos realizar o terraform destroy, lembrar de excluir o workspace da Databricks manualmente.